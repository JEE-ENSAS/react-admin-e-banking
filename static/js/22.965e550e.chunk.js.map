{"version":3,"sources":["views/settings/Settings.js","services/SettingsService.js"],"names":["Setting","maxAmountForCashToCash","useRef","maxAmountForCashToAccount","maxAmountForAccountToCash","maxAmountForAccountToAccount","maxHoldingTimeForCashToCash","maxHoldingTimeForCashToAccount","maxHoldingTimeForAccountToCash","maxHoldingTimeForAccountToAccount","transferPercentageForCashToCash","transferPercentageForCashToAccount","transferPercentageForAccountToAccount","transferPercentageForAccountToCash","list","setList","useState","useEffect","async","http","get","SETTING_URL","getParameter","then","items","className","icon","cilSettings","type","defaultValue","ref","placeholder","onClick","settingData","id","current","value","res","fetch","method","headers","body","JSON","stringify","ok","message","status","statusText","Error","Swal","fire","title","text","confirmButtonText","err","updateSettings"],"mappings":"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","file":"static/js/22.965e550e.chunk.js","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { getParameter } from \"../../services/SettingsService\";\nimport CIcon from \"@coreui/icons-react\";\nimport { cilSettings } from \"@coreui/icons\";\nimport { CCol, CRow } from \"@coreui/react\";\nimport Swal from \"sweetalert2\";\n\nfunction Setting() {\n  const baseURL =\n    \"https://my-parametrage-service.herokuapp.com/Parameter/update\";\n\n  const maxAmountForCashToCash = useRef(null);\n  const maxAmountForCashToAccount = useRef(null);\n  const maxAmountForAccountToCash = useRef(null);\n  const maxAmountForAccountToAccount = useRef(null);\n  const maxHoldingTimeForCashToCash = useRef(null);\n  const maxHoldingTimeForCashToAccount = useRef(null);\n  const maxHoldingTimeForAccountToCash = useRef(null);\n  const maxHoldingTimeForAccountToAccount = useRef(null);\n  const transferPercentageForCashToCash = useRef(null);\n  const transferPercentageForCashToAccount = useRef(null);\n  const transferPercentageForAccountToAccount = useRef(null);\n  const transferPercentageForAccountToCash = useRef(null);\n\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    getParameter().then((items) => setList(items));\n  }, []);\n\n  async function updateSettings() {\n    try {\n      const settingData = {\n        id: list.id,\n        maxAmountForCashToCash: maxAmountForCashToCash.current.value,\n        maxAmountForCashToAccount: maxAmountForCashToAccount.current.value,\n        maxAmountForAccountToCash: maxAmountForAccountToCash.current.value,\n        maxAmountForAccountToAccount:\n          maxAmountForAccountToAccount.current.value,\n        maxHoldingTimeForCashToCash: maxAmountForCashToCash.current.value,\n        maxHoldingTimeForCashToAccount: maxAmountForCashToCash.current.value,\n        maxHoldingTimeForAccountToCash: maxAmountForCashToCash.current.value,\n        maxHoldingTimeForAccountToAccount: maxAmountForCashToCash.current.value,\n        transferPercentageForCashToCash: maxAmountForCashToCash.current.value,\n        transferPercentageForCashToAccount:\n          maxAmountForCashToCash.current.value,\n        transferPercentageForAccountToAccount:\n          maxAmountForCashToCash.current.value,\n        transferPercentageForAccountToCash:\n          maxAmountForCashToCash.current.value,\n      };\n      const res = await fetch(baseURL, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(settingData),\n      });\n\n      if (!res.ok) {\n        const message = `An error has occured: ${res.status} - ${res.statusText}`;\n        throw new Error(message);\n      }\n\n      Swal.fire({\n        title: \"Updated!\",\n        text: \"Settings have been changed!\",\n        icon: \"success\",\n        confirmButtonText: \"Ok\",\n      });\n    } catch (err) {\n      Swal.fire({\n        title: \"Try again!\",\n        text: \"Settings are not changed:\" + err.message,\n        icon: \"info\",\n        confirmButtonText: \"Ok\",\n      });\n    }\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <CIcon icon={cilSettings} /> Settings\n      </div>\n      <div className=\"card-body\">\n        <b>Max Amount :</b>\n        <CRow>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Cash To Cash :</label>\n              <input\n                type=\"text\"\n                defaultValue={list.maxAmountForCashToCash || \"\"}\n                className=\"form-control\"\n                ref={maxAmountForCashToCash}\n                placeholder=\"maxAmountForCashToCash\"\n              />\n            </div>\n          </CCol>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Cash To Account :</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                defaultValue={list.maxAmountForCashToAccount || \"\"}\n                ref={maxAmountForCashToAccount}\n                placeholder=\"maxAmountForCashToAccount \"\n              />\n            </div>\n          </CCol>\n        </CRow>\n        <CRow>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Account To Cash :</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                defaultValue={list.maxAmountForAccountToCash || \"\"}\n                ref={maxAmountForAccountToCash}\n                placeholder=\"maxAmountForAccountToCash \"\n              />\n            </div>\n          </CCol>\n          <CCol>\n            <div className=\"form-group\">\n              <label> Account To Account :</label>\n              <input\n                type=\"test\"\n                className=\"form-control\"\n                defaultValue={list.maxAmountForAccountToAccount || \"\"}\n                ref={maxAmountForAccountToAccount}\n                placeholder=\"maxAmountForAccountToAccount \"\n              />\n            </div>\n          </CCol>\n        </CRow>\n\n        <hr></hr>\n        <b>Max Holding Time :</b>\n        <CRow>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Cash To Cash :</label>\n              <input\n                type=\"text\"\n                defaultValue={list.maxHoldingTimeForCashToCash || \"\"}\n                className=\"form-control\"\n                ref={maxHoldingTimeForCashToCash}\n                placeholder=\"maxHoldingTimeForCashToCash\"\n              />\n            </div>\n          </CCol>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Cash To Account :</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                defaultValue={list.maxHoldingTimeForCashToAccount || \"\"}\n                ref={maxHoldingTimeForCashToAccount}\n                placeholder=\"maxHoldingTimeForCashToAccount \"\n              />\n            </div>\n          </CCol>\n        </CRow>\n        <CRow>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Account To Cash :</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                defaultValue={list.maxHoldingTimeForAccountToCash || \"\"}\n                ref={maxHoldingTimeForAccountToCash}\n                placeholder=\"maxHoldingTimeForAccountToCash \"\n              />\n            </div>\n          </CCol>\n          <CCol>\n            <div className=\"form-group\">\n              <label> Account To Account :</label>\n              <input\n                type=\"test\"\n                className=\"form-control\"\n                defaultValue={list.maxHoldingTimeForAccountToAccount || \"\"}\n                ref={maxHoldingTimeForAccountToAccount}\n                placeholder=\"maxHoldingTimeForAccountToAccount \"\n              />\n            </div>\n          </CCol>\n        </CRow>\n\n        <hr></hr>\n        <b>Transfer Percentage :</b>\n        <CRow>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Cash To Cash :</label>\n              <input\n                type=\"text\"\n                defaultValue={list.transferPercentageForCashToCash || \"\"}\n                className=\"form-control\"\n                ref={transferPercentageForCashToCash}\n              />\n            </div>\n          </CCol>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Cash To Account :</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                defaultValue={list.transferPercentageForCashToAccount || \"\"}\n                ref={transferPercentageForCashToAccount}\n              />\n            </div>\n          </CCol>\n        </CRow>\n        <CRow>\n          <CCol>\n            <div className=\"form-group\">\n              <label>Account To Cash :</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                defaultValue={list.transferPercentageForAccountToCash || \"\"}\n                ref={transferPercentageForAccountToCash}\n              />\n            </div>\n          </CCol>\n          <CCol>\n            <div className=\"form-group\">\n              <label> Account To Account :</label>\n              <input\n                type=\"test\"\n                className=\"form-control\"\n                defaultValue={list.transferPercentageForAccountToAccount || \"\"}\n                ref={transferPercentageForAccountToAccount}\n              />\n            </div>\n          </CCol>\n        </CRow>\n\n        <br></br>\n        <div className=\"form-group\">\n          <button\n            className=\"btn btn-secondary btn-lg btn-block\"\n            onClick={() => updateSettings()}\n          >\n            Update Settings\n          </button>\n        </div>\n        <br></br>\n      </div>\n    </div>\n  );\n}\n\nexport default Setting;\n","import http from \"../http-common\";\nimport { SETTING_URL } from \"./index\";\n\nexport const getParameter = async () => {\n  return await http.get(SETTING_URL + \"get\") \n};\n"],"sourceRoot":""}