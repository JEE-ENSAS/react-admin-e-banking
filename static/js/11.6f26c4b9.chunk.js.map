{"version":3,"sources":["helpers/BtnPlus.js","views/agencies/AgenciesList.js"],"names":["BtnPlus","pathname","label","status","to","color","className","prototype","PropTypes","string","isRequired","defaultProps","AgenciesList","history","useHistory","details","setDetails","useState","agencyState","useSelector","state","list","setList","useEffect","agencies","activePage","cleaner","clickableRows","columns","key","_style","width","filter","sorter","_props","columnFilter","columnSorter","footer","items","itemsPerPageSelect","itemsPerPage","pagination","scopedColumns","show_details","item","variant","shape","size","onClick","index","position","indexOf","newDetails","slice","splice","toggleDetails","id","includes","visible","push","Swal","fire","title","showCancelButton","confirmButtonText","then","result","isConfirmed","selectable","sorterValue","column","tableFilter","tableHeadProps","tableProps","striped","hover"],"mappings":"+GAAA,oDAKA,SAASA,EAAT,GAA+C,IAA9B,SAAEC,EAAF,MAAYC,EAAZ,OAAmBC,GAAU,EAC5C,OACE,mCACGF,GACC,cAAC,IAAD,CAAMG,GAAIH,EAAV,SACE,eAAC,IAAD,CAASI,MAAOF,EAAhB,UACE,mBAAGG,UAAU,oBACZJ,SAQbF,EAAQO,UAAY,CAClBN,SAAUO,IAAUC,OAAOC,WAC3BR,MAAOM,IAAUC,QAGnBT,EAAQW,aAAe,CACnBR,OAAQ,WAGGH,O,iCC7Bf,wFA8IeY,UAtIf,WACE,MAAMC,EAAUC,eAETC,EAASC,GAAcC,mBAAS,IAEjCC,EAAcC,aAAaC,GAAUA,EAAK,iBACzCC,EAAMC,GAAWL,mBAAS,IA6CjC,OA3CAM,qBAAU,KACRD,EAAQ,IAAIJ,EAAYM,aACvB,CAACN,EAAYM,WA0Cd,gCAEI,sBAAKlB,UAAU,0DAAf,UACA,+CACA,cAAC,IAAD,CAASL,SAAS,UAAUC,MAAM,kBAIpC,uBACE,cAAC,IAAD,CACGuB,WAAY,EACZC,SAAO,EACPC,eAAa,EACbC,QArDO,CACd,CAACC,IAAK,QACN,CAACA,IAAK,YACN,CAACA,IAAK,QAEN,CACEA,IAAK,eACL3B,MAAO,GACP4B,OAAQ,CAAEC,MAAO,MACjBC,QAAQ,EACRC,QAAQ,EACRC,OAAQ,CAAE7B,MAAO,GAAIC,UAAW,iBA2C3B6B,cAAY,EACZC,cAAY,EACZC,QAAM,EACNC,MAAOjB,EACPkB,oBAAkB,EAClBC,aAAc,EACdC,YAAU,EACVC,cAAe,CACbC,aAAeC,GAEX,oBAAItC,UAAU,OAAd,SACE,cAAC,IAAD,CACED,MAAM,UACNwC,QAAQ,UACRC,MAAM,SACNC,KAAK,KACLC,QAAS,KAtDLC,KACrB,MAAMC,EAAWnC,EAAQoC,QAAQF,GACjC,IAAIG,EAAarC,EAAQsC,SACP,IAAdH,EACFE,EAAWE,OAAOJ,EAAU,GAE5BE,EAAa,IAAIrC,EAASkC,GAE5BjC,EAAWoC,IA+CQG,CAAcX,EAAKY,KANvB,SASGzC,EAAQ0C,SAASb,EAAKY,IAAM,OAAS,aAK9CzC,QAAU6B,GAEN,cAAC,IAAD,CAAWc,QAAS3C,EAAQ0C,SAASb,EAAKY,IAA1C,SACE,eAAC,IAAD,WAGE,cAAC,IAAD,CAAST,KAAK,KAAK1C,MAAM,OAAQ2C,QAAS,KAEhDnC,EAAQ8C,KAAK,CACZ1D,SAAU,eACVuD,GAAIZ,EAAKY,MAJJ,oBAUW,OAEX,cAAC,IAAD,CAAST,KAAK,KAAK1C,MAAM,SAASC,UAAU,OAAQ0C,QAAS,KAC7CJ,EAAKY,GAtEtCI,IAAKC,KAAK,CACRC,MAAO,sCAEPC,kBAAkB,EAClBC,kBAAmB,WAClBC,MAAMC,IACHA,EAAOC,gBA+DI,0BAUVC,YAAU,EACVC,YAAa,CAAEC,OAAQ,OAAQlD,MAAO,OACtCmD,aAAW,EACXC,eAAgB,CACdnE,MAAO,KAEToE,WAAY,CACVC,SAAS,EACTC,OAAO","file":"static/js/11.6f26c4b9.chunk.js","sourcesContent":["import React from \"react\";\nimport { CButton } from \"@coreui/react\";\nimport PropTypes from \"prop-types\"; \nimport { Link } from \"react-router-dom\";\n\nfunction BtnPlus({ pathname, label, status }) {\n  return (\n    <>\n      {pathname && (\n        <Link to={pathname}>\n          <CButton color={status}>\n            <i className=\"fa fa-plus mx-1\"></i>\n            {label}\n          </CButton>\n        </Link>\n      )}\n    </>\n  );\n}\n\nBtnPlus.prototype = {\n  pathname: PropTypes.string.isRequired,\n  label: PropTypes.string,\n};\n\nBtnPlus.defaultProps = {\n    status: \"primary\",\n}\n\nexport default BtnPlus;\n","import React, { useEffect, useState } from 'react';\nimport { CSmartTable } from '@coreui/react-pro' \nimport Swal from \"sweetalert2\";\nimport BtnPlus from \"src/helpers/BtnPlus\";\nimport { CCollapse ,CButton,CCardBody} from '@coreui/react';\nimport { useHistory  } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nfunction AgenciesList() {\n  const history = useHistory();\n  \n  const [details, setDetails] = useState([]);\n\n  const agencyState = useSelector((state) => state[\"agencyReducer\"]);\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    setList([...agencyState.agencies]);\n  }, [agencyState.agencies]);\n\n  const columns = [\n    {key: 'name',},\n    {key: 'location', },\n    {key: 'city', }, \n    \n    {\n      key: \"show_details\",\n      label: \"\",\n      _style: { width: \"1%\" },\n      filter: false,\n      sorter: false,\n      _props: { color: \"\", className: \"fw-semibold\" },\n    },\n  ];\n  \n\n  const toggleDetails = (index) => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  const deleteAccount = (index) => {\n    Swal.fire({\n      title: \"Do you want to delete this account?\",\n\n      showCancelButton: true,\n      confirmButtonText: \"Delete\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n      }  \n    })\n  }\n\n  return (\n    <div>\n\n        <div className=\"py-0 d-flex justify-content-between align-items-center \">\n        <h4>Agencies List</h4>\n        <BtnPlus pathname=\"/agency\" label=\"New Agency\" />\n      </div>\n\n\n      <hr></hr>\n        <CSmartTable\n           activePage={3}\n           cleaner\n           clickableRows\n           columns={columns}\n           columnFilter\n           columnSorter\n           footer\n           items={list}\n           itemsPerPageSelect\n           itemsPerPage={5}\n           pagination\n           scopedColumns={{\n             show_details: (item) => {\n               return (\n                 <td className=\"py-2\">\n                   <CButton\n                     color=\"primary\"\n                     variant=\"outline\"\n                     shape=\"square\"\n                     size=\"sm\"\n                     onClick={() => {\n                       toggleDetails(item.id)\n                     }}\n                   >\n                     {details.includes(item.id) ? 'Hide' : 'Action'}\n                   </CButton>\n                 </td>\n               )\n             },\n             details: (item) => {\n               return (\n                 <CCollapse visible={details.includes(item.id)}>\n                   <CCardBody>\n                      \n                     \n                     <CButton size=\"sm\" color=\"info\"  onClick={() => {\n             \n               history.push({\n                pathname: '/editAccount',\n                id: item.id,  // query string\n             \n              }); \n                \n              }}>\n                       Update\n                     </CButton>{'    '}\n                      \n                     <CButton size=\"sm\" color=\"danger\" className=\"ml-1\"  onClick={() => {\n                       deleteAccount(item.id)\n                     }}>\n                       Delete\n                     </CButton>\n                   </CCardBody>\n                 </CCollapse>\n               )\n             },\n           }}\n           selectable\n           sorterValue={{ column: 'name', state: 'asc' }}\n           tableFilter\n           tableHeadProps={{\n             color: ' ',\n           }}\n           tableProps={{\n             striped: true,\n             hover: true,\n           }} \n               />\n           </div>\n       )\n       }\n\nexport default AgenciesList;\n"],"sourceRoot":""}