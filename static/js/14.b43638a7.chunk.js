(this["webpackJsonpe-banking"]=this["webpackJsonpe-banking"]||[]).push([[14],{594:function(e,t,c){"use strict";c.d(t,"a",(function(){return r})),c.d(t,"e",(function(){return o})),c.d(t,"d",(function(){return a})),c.d(t,"c",(function(){return u})),c.d(t,"b",(function(){return i}));var n=c(573),s=c.n(n);const r="https://my-account-service-tt.herokuapp.com/Account/create",o="https://my-account-service-tt.herokuapp.com/Account/update";function a(e){return fetch("https://my-account-service-tt.herokuapp.com/Account/get?id="+e).then((e=>e.json()))}function u(e){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})};fetch("https://my-account-service-tt.herokuapp.com/Account/enable",t).then((e=>e.json())),s.a.fire("Enabled!","","success")}function i(e){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})};fetch("https://my-account-service-tt.herokuapp.com/Account/disable",t).then((e=>e.json())),s.a.fire("Disabled!","","success")}},800:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(594),r=c(25),o=c(208),a=c(26);t.default=function(){const e=c(573),t=Object(r.g)(),u=Object(n.useRef)(null),i=Object(n.useRef)(null),l=Object(n.useRef)(null),d=Object(n.useRef)(null),b=Object(n.useRef)(null),j=Object(o.c)((e=>e.userReducer)),[h,p]=Object(n.useState)([]);return Object(n.useEffect)((()=>{p([...j.users])}),[j.users]),Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"card-header text-center",children:"Add New Account"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Select User : "}),Object(a.jsx)("select",{className:"form-control",children:h.map((e=>Object(a.jsx)("option",{ref:d,value:e.id,children:e.username},e.id)))})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",className:"form-control",ref:u,placeholder:"accountNumber"})}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",className:"form-control",ref:i,placeholder:"balance "})}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",className:"form-control",ref:l,placeholder:"currency "})}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Select Account Type :"}),Object(a.jsxs)("select",{className:"form-control",children:[Object(a.jsx)("option",{ref:b,value:"SAVING",children:"SAVING"}),Object(a.jsx)("option",{ref:b,value:"NORMAL",children:"NORMAL"})]})]}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"btn btn-sm btn-primary",onClick:async function(){try{const c={accountNumber:u.current.value,balance:i.current.value,creationDate:new Date,currency:l.current.value,type:b.current.value,userId:d.current.value},n=await fetch(s.a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!n.ok){const e="An error has occured: ".concat(n.status," - ").concat(n.statusText);throw new Error(e)}e.fire({title:"Saved!",text:"New account has been added",icon:"success",confirmButtonText:"Ok"}),t.push({pathname:"/accounts"})}catch(c){e.fire({title:"Try again!",text:"Account has not been saved:"+c.message,icon:"info",confirmButtonText:"Ok"})}},children:"Add Account"})]})]})}}}]);
//# sourceMappingURL=14.b43638a7.chunk.js.map