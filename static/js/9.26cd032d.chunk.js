(this["webpackJsonpe-banking"]=this["webpackJsonpe-banking"]||[]).push([[9],{367:function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return n})),r.d(t,"f",(function(){return o})),r.d(t,"h",(function(){return i})),r.d(t,"g",(function(){return l})),r.d(t,"b",(function(){return u}));const s="https://my-authentication-service-t.herokuapp.com/api/auth/",a="https://my-client-service-t.herokuapp.com/api/users/",c="https://my-account-service-tt.herokuapp.com/Account/",n="https://my-card-service-ttt.herokuapp.com/Card/",o="https://my-setting-service-t.herokuapp.com/Parameter/",i="https://transfer-client-service-t.herokuapp.com/transfer-client/",l="https://my-transfert-agent-service.herokuapp.com/api/transfer-agent/",u="https://my-agency-service-tt.herokuapp.com/Agency/"},368:function(e,t,r){"use strict";var s=r(378);const a=r.n(s).a.create({baseURL:"https://my-api-gateway-ttt.herokuapp.com/",headers:{"Content-type":"application/json"}});a.interceptors.request.use((e=>{const t=JSON.parse(localStorage.getItem("token"));return t&&(e.headers.Authorization="Bearer "+t),e}),(e=>Promise.reject(e))),t.a=a},372:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return d}));var s=r(10),a=r(367),c=r(368);var n=new class{constructor(){this.login=async e=>{const{data:t,error:r}=await c.a.post(a.c+"signin",e);return{data:t,error:r}},this.register=async e=>{const{data:t,error:r}=await c.a.post(a.c+"signup",e);return{data:t,error:r}}}},o=r(363),i=r.n(o);const l=e=>{let{title:t="Your work has been saved",timer:r=1500}=e;const s=t.includes("Error")?"error":"success";i.a.fire({position:"top-end",icon:s,title:t,timer:r,showConfirmButton:!1})},u=e=>async t=>{try{const{data:r,error:a}=await n.login(e);if(a)return t({type:s.l,payload:r}),Promise.resolve(a);{const e={id:r.id,username:r.username,email:r.email,roles:r.roles};return t({type:s.b,payload:{user:e,token:r.accessToken}}),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",JSON.stringify(r.accessToken)),l({title:"you're log in "}),Promise.resolve(r)}}catch(r){return Promise.reject(r)}},p=e=>async t=>{try{const{data:r,error:a}=await n.register(e);return a?(t({type:s.l,payload:a}),Promise.resolve(a)):(t({type:s.d,payload:r}),l({title:r.message}),Promise.resolve(r))}catch(r){return t({type:s.l,payload:r.message}),Promise.reject(r)}},d=()=>e=>{e({type:s.c,payload:{}})}},460:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r(362),c=r(365),n=r(443),o=r(447),i=r(123),l=r(372),u=r(19),p=r(20);t.default=()=>{const e=Object(i.b)(),t=Object(u.g)(),[r,d]=Object(s.useState)({username:"",password:"",repassword:"",email:""});return Object(p.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:Object(p.jsx)(a.p,{children:Object(p.jsx)(a.U,{className:"justify-content-center",children:Object(p.jsx)(a.n,{md:9,lg:7,xl:6,children:Object(p.jsx)(a.g,{className:"mx-4",children:Object(p.jsx)(a.h,{className:"p-4",children:Object(p.jsxs)(a.x,{children:[Object(p.jsx)("h1",{children:"Register"}),Object(p.jsx)("p",{className:"text-medium-emphasis",children:"Create your account"}),Object(p.jsxs)(a.G,{className:"mb-3",children:[Object(p.jsx)(a.H,{children:Object(p.jsx)(c.a,{icon:n.a})}),Object(p.jsx)(a.y,{placeholder:"Username",autoComplete:"username",value:r.username,onChange:e=>d({...r,username:e.target.value})})]}),Object(p.jsxs)(a.G,{className:"mb-3",children:[Object(p.jsx)(a.H,{children:"@"}),Object(p.jsx)(a.y,{placeholder:"Email",autoComplete:"email",value:r.email,onChange:e=>d({...r,email:e.target.value})})]}),Object(p.jsxs)(a.G,{className:"mb-3",children:[Object(p.jsx)(a.H,{children:Object(p.jsx)(c.a,{icon:o.a})}),Object(p.jsx)(a.y,{type:"password",placeholder:"Password",autoComplete:"new-password",value:r.password,onChange:e=>d({...r,password:e.target.value})})]}),Object(p.jsxs)(a.G,{className:"mb-4",children:[Object(p.jsx)(a.H,{children:Object(p.jsx)(c.a,{icon:o.a})}),Object(p.jsx)(a.y,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:r.repassword,onChange:e=>d({...r,repassword:e.target.value})})]}),Object(p.jsx)("div",{className:"d-grid",children:Object(p.jsx)(a.e,{color:"success",onClick:s=>(async s=>{s.preventDefault();const a=await e(Object(l.c)({...r,roles:["agent"]}));a&&a.message&&t.push("/login")})(s),children:"Create Account"})})]})})})})})})})}}}]);
//# sourceMappingURL=9.26cd032d.chunk.js.map