{"version":3,"sources":["services/AccountService.js","views/accounts/UpdateAccount.js"],"names":["baseURL","updateURL","getAccount","id","fetch","then","data","json","enabledAccount","requestOptions","method","headers","body","JSON","stringify","response","Swal","fire","disabledAccount","UpdateAccount","location","useLocation","account","setAccount","useState","useEffect","items","accountNumber","useRef","balance","currency","userId","type","clientState","useSelector","state","list","setList","users","className","map","item","ref","value","username","defaultValue","placeholder","onClick","async","postData","res","ok","message","status","statusText","Error","title","text","icon","confirmButtonText","err"],"mappings":"+GAAA,gMAEO,MAAMA,EACX,6DAEWC,EACX,6DAEK,SAASC,EAAWC,GACzB,OAAOC,MACL,8DAAgED,GAChEE,MAAMC,GAASA,EAAKC,SAEjB,SAASC,EAAeL,GAC7B,MAAMM,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEX,GAAIA,KAE7BC,MACE,6DACAK,GACAJ,MAAMU,GAAaA,EAASR,SAE9BS,IAAKC,KAAK,WAAY,GAAI,WAGrB,SAASC,EAAgBf,GAC9B,MAAMM,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEX,GAAIA,KAE7BC,MACE,8DACAK,GACAJ,MAAMU,GAAaA,EAASR,SAE9BS,IAAKC,KAAK,YAAa,GAAI,a,iCCtC7B,sEAqIeE,UA5Hf,WACE,MAAMC,EAAWC,eACVC,EAASC,GAAcC,mBAAS,IAEvCC,qBAAU,KACRvB,YAAWkB,EAAQ,IAAQf,MAAMqB,GAAUH,EAAWG,OACrD,IAEH,MAAMC,EAAgBC,iBAAO,MACvBC,EAAUD,iBAAO,MACjBE,EAAWF,iBAAO,MAClBG,EAASH,iBAAO,MAChBI,EAAOJ,iBAAO,MAEdK,EAAcC,aAAYC,GAAQA,EAAK,eACtCC,EAAMC,GAAWb,mBAAS,IAsCjC,OApCAC,qBAAU,KACRY,EAAQ,IAAIJ,EAAYK,UACvB,CAACL,EAAYK,QAmCd,sBAAKC,UAAU,OAAf,UACE,sBAAKA,UAAU,2BAAf,UACE,mBAAGA,UAAU,sBADf,oBAIA,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,aAAf,UACE,mDACA,wBAAQA,UAAU,eAAlB,SACGH,EAAKI,KAAKC,GACT,wBAAQC,IAAKX,EAAQY,MAAOF,EAAKtC,GAAjC,SACGsC,EAAKG,UADkCH,EAAKtC,WAMrD,uBACA,qBAAKoC,UAAU,aAAf,SACE,uBACEP,KAAK,OACLO,UAAU,eACVM,aAAcvB,EAAQK,eAAiB,GACvCe,IAAKf,EACLmB,YAAY,oBAGhB,uBACA,qBAAKP,UAAU,aAAf,SACE,uBACEP,KAAK,OACLO,UAAU,eACVM,aAAcvB,EAAQO,SAAW,GACjCa,IAAKb,EACLiB,YAAY,eAGhB,uBACA,qBAAKP,UAAU,aAAf,SACE,uBACEP,KAAK,OACLO,UAAU,eACVM,aAAcvB,EAAQQ,UAAY,GAClCY,IAAKZ,EACLgB,YAAY,gBAGhB,uBACA,sBAAKP,UAAU,aAAf,UACE,0DACA,yBAAQA,UAAU,eAAlB,UACE,wBAAQG,IAAKV,EAAMW,MAAOrB,EAAQU,MAAQ,GAA1C,SACGV,EAAQU,MAAQ,KAEnB,wBAAQU,IAAKV,EAAMW,MAAO,SAA1B,oBAGA,wBAAQD,IAAKV,EAAMW,MAAO,SAA1B,0BAKJ,uBACA,wBAAQJ,UAAU,yBAAyBQ,QA9FjDC,eAAeC,IACb,IACE,MAAMC,QAAY9C,MAAMH,IAAW,CACjCS,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUmC,KAGvB,IAAKC,EAAIC,GAAI,CACX,MAAMC,EAAO,gCAA4BF,EAAIG,OAAhC,cAA4CH,EAAII,YAC7D,MAAM,IAAIC,MAAMH,GAGlBpC,IAAKC,KAAK,CACRuC,MAAO,WACPC,KAAM,gCACNC,KAAM,UACNC,kBAAmB,OAErB,MAAOC,GACP5C,IAAKC,KAAK,CACRuC,MAAO,aACPC,KAAM,gCAAkCG,EAAIR,QAC5CM,KAAM,OACNC,kBAAmB,SAoEnB","file":"static/js/15.4847150b.chunk.js","sourcesContent":["import Swal from \"sweetalert2\";\n \nexport const baseURL =\n  \"https://my-account-service-tt.herokuapp.com/Account/create\";\n\nexport const updateURL =\n  \"https://my-account-service-tt.herokuapp.com/Account/update\";\n\nexport function getAccount(id) {\n  return fetch(\n    \"https://my-account-service-tt.herokuapp.com/Account/get?id=\" + id\n  ).then((data) => data.json());\n}\nexport function enabledAccount(id) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ id: id }),\n  };\n  fetch(\n    \"https://my-account-service-tt.herokuapp.com/Account/enable\",\n    requestOptions\n  ).then((response) => response.json());\n\n  Swal.fire(\"Enabled!\", \"\", \"success\");\n}\n\nexport function disabledAccount(id) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ id: id }),\n  };\n  fetch(\n    \"https://my-account-service-tt.herokuapp.com/Account/disable\",\n    requestOptions\n  ).then((response) => response.json());\n\n  Swal.fire(\"Disabled!\", \"\", \"success\");\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport {\n  getAccount,\n  updateURL,\n} from \"../../services/AccountService\";\nimport { useLocation } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { useSelector } from \"react-redux\";\n\nfunction UpdateAccount() {\n  const location = useLocation();\n  const [account, setAccount] = useState([]);\n\n  useEffect(() => {\n    getAccount(location[\"id\"]).then((items) => setAccount(items));\n  }, []);\n\n  const accountNumber = useRef(null);\n  const balance = useRef(null);\n  const currency = useRef(null);\n  const userId = useRef(null);\n  const type = useRef(null);\n\n  const clientState = useSelector(state=> state['userReducer'] )\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    setList([...clientState.users]);\n  }, [clientState.users]);\n\n\n  async function postData() {\n    try {\n      const res = await fetch(updateURL, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(postData),\n      });\n\n      if (!res.ok) {\n        const message = `An error has occured: ${res.status} - ${res.statusText}`;\n        throw new Error(message);\n      }\n\n      Swal.fire({\n        title: \"Updated!\",\n        text: \"This account has been updated\",\n        icon: \"success\",\n        confirmButtonText: \"Ok\",\n      });\n    } catch (err) {\n      Swal.fire({\n        title: \"Try again!\",\n        text: \"Account has not been updated:\" + err.message,\n        icon: \"info\",\n        confirmButtonText: \"Ok\",\n      });\n    }\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header text-center \">\n        <i className=\"fa fa-pencil mx-1\"></i>\n        Update Account\n      </div>\n      <div className=\"card-body\">\n        <div className=\"form-group\">\n          <label>Select User : </label>\n          <select className=\"form-control\">\n            {list.map((item) => (\n              <option ref={userId} value={item.id} key={item.id}>\n                {item.username}\n              </option>\n            ))}\n          </select>\n        </div>\n        <br></br>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            defaultValue={account.accountNumber || \"\"}\n            ref={accountNumber}\n            placeholder=\"accountNumber\"\n          />\n        </div>\n        <br></br>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            defaultValue={account.balance || \"\"}\n            ref={balance}\n            placeholder=\"balance \"\n          />\n        </div>\n        <br></br>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            defaultValue={account.currency || \"\"}\n            ref={currency}\n            placeholder=\"currency \"\n          />\n        </div>\n        <br></br>\n        <div className=\"form-group\">\n          <label>Select Account Type :</label>\n          <select className=\"form-control\">\n            <option ref={type} value={account.type || \"\"}>\n              {account.type || \"\"}\n            </option>\n            <option ref={type} value={\"SAVING\"}>\n              SAVING\n            </option>\n            <option ref={type} value={\"NORMAL\"}>\n              NORMAL\n            </option>\n          </select>\n        </div>\n        <br></br>\n        <button className=\"btn btn-sm btn-primary\" onClick={postData}>\n          Update Account\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default UpdateAccount;\n"],"sourceRoot":""}